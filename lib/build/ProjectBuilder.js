// Generated by CoffeeScript 1.4.0
var EventEmitter, ProjectBuilder, walk,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

walk = require('walk');

EventEmitter = require('events').EventEmitter;

ProjectBuilder = (function(_super) {

  __extends(ProjectBuilder, _super);

  function ProjectBuilder(params) {
    this.params = params;
    console.log("build params", this.params);
  }

  ProjectBuilder.prototype.build = function() {
    var walker;
    console.log("building project...");
    walker = walk.walk(this.params.baseDir + '/public');
    walker.on('node', function(root, stat, next) {
      if (root.indexOf('.git') < 0 && stat.name.indexOf('.git') < 0 && root.indexOf('.hg') < 0 && stat.name.indexOf('.hg') < 0) {
        console.log("walker", root, stat);
      }
      return next();
    });
    return this;
  };

  return ProjectBuilder;

})(EventEmitter);

exports.ProjectBuilder = ProjectBuilder;
